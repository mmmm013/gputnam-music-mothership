@tailwind base;
@tailwind components;
@tailwind utilities;

/*
 * BIC MOBILE-FIRST CSS
 * These rules make mobile Safari behave like a native app.
 * Apple Music has these. Spotify has these. We need these.
 */

:root {
  --foreground-rgb: 245, 230, 200;
  --background-start-rgb: 26, 18, 7;
  --background-end-rgb: 10, 9, 8;
  --gpm-amber: #D4A017;
  --gpm-brown: #8B4513;
  --gpm-slate: #708090;
  --gpm-stone: #C4A882;
}

/* MOBILE: Eliminate 300ms tap delay */
html {
  touch-action: manipulation;
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

body {
  color: rgb(var(--foreground-rgb));
  background: rgb(var(--background-start-rgb));
  min-height: 100vh;
  min-height: 100dvh; /* Dynamic viewport height for mobile */
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-y: none; /* Prevent pull-to-refresh */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* MOBILE: Safe area padding for notch/home indicator */
@supports (padding: env(safe-area-inset-bottom)) {
  .fixed.bottom-0 {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* MOBILE: Prevent iOS zoom on input focus */
input[type="range"],
input[type="text"],
select,
textarea {
  font-size: 16px;
}

/* MOBILE: Smooth range input styling for audio seekers */
input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  background: transparent;
  cursor: pointer;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  height: 16px;
  width: 16px;
  border-radius: 50%;
  background: #D0A917;
  margin-top: -6px;
}

input[type="range"]::-webkit-slider-runnable-track {
  height: 4px;
  border-radius: 2px;
}

/* MOBILE: Button touch targets minimum 44px (Apple HIG) */
button {
  min-height: 44px;
  min-width: 44px;
}

/* Prevent text selection on interactive elements */
button,
[role="button"] {
  -webkit-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

/* MOBILE: Hide scrollbars but allow scrolling */
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}
